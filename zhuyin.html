<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>注音王國探險記</title>
    
    <!-- 函式庫 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- 母版樣式 -->
    <link href="assets/css/style.css" rel="stylesheet">
</head>
<body>

<!-- 載入中 -->
<div id="loader">
    <div class="spinner-border text-primary mb-3" role="status"></div>
    <div class="fw-bold text-muted">正在建造注音王國...</div>
</div>

<!-- 1. 遊戲世界 (Canvas) -->
<canvas id="gameWorld"></canvas>

<!-- 2. UI 介面層 (HUD) -->
<div id="ui-layer">
    <!-- 主標題 -->
    <div class="app-title">注音王國探險記</div>

    <!-- 回到大廳 -->
    <a href="index.html" class="btn-circle position-absolute text-decoration-none shadow-sm" 
       style="top: 20px; left: 20px; pointer-events: auto; z-index: 30;" 
       title="回到大廳">
        <i class="fa-solid fa-house text-primary"></i>
    </a>

    <!-- 星星記分 -->
    <div class="hud-badge position-absolute shadow-sm" 
         style="top: 20px; right: 20px; pointer-events: auto; z-index: 30;">
        <i class="fa-solid fa-star text-warning"></i>
        <span id="gem-count">0</span> / 12
    </div>

    <!-- 重置按鈕 -->
    <button class="btn-circle position-absolute shadow-sm" 
            style="bottom: 20px; right: 20px; pointer-events: auto; z-index: 30;" 
            onclick="resetApp()" 
            title="重置">
        <i class="fa-solid fa-rotate-right text-muted"></i>
    </button>
    
    <!-- 操作提示 -->
    <div id="drag-hint" class="position-absolute start-50 top-50 translate-middle text-center" style="pointer-events: none; opacity: 0.6;">
        <i class="fa-solid fa-hand-pointer fa-2x mb-2 text-primary"></i>
        <div class="fw-bold text-primary">左右拖曳探索</div>
    </div>
</div>

<!-- 3. 課程內容層 (HTML Modal) -->
<div id="lesson-modal">
    <div class="lesson-header">
        <button class="btn-circle border-0 shadow-none" onclick="closeLesson()">
            <i class="fa-solid fa-arrow-left"></i>
        </button>
        <h5 class="m-0 fw-bold" id="lesson-title-display">課程標題</h5>
        <div style="width: 50px;"></div>
    </div>

    <div class="lesson-content" id="lesson-container">
        <!-- 內容由 JS 動態生成 -->
    </div>

    <div class="tab-bar">
        <div class="tab-item active" id="tab-0" onclick="switchTab(0)"><i class="fa-solid fa-person-running d-block"></i>暖身</div>
        <div class="tab-item" id="tab-1" onclick="switchTab(1)"><i class="fa-solid fa-layer-group d-block"></i>字卡</div>
        <div class="tab-item" id="tab-2" onclick="switchTab(2)"><i class="fa-solid fa-gamepad d-block"></i>遊戲</div>
        <div class="tab-item" id="tab-3" onclick="switchTab(3)"><i class="fa-solid fa-clipboard-question d-block"></i>測驗</div>
    </div>
</div>

<!-- 腳本引入 (順序很重要) -->
<script src="assets/js/common.js"></script>
<script src="assets/js/data_zhuyin.js"></script>
<script src="assets/js/game_zhuyin.js"></script>

</body>
</html>