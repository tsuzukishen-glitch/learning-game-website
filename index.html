<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¥‡å¹»å­¸ç¿’å³¶ - é¸æ“‡ä½ çš„å†’éšª</title>
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts: åœ“é«” -->
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-color: #E0F7FA;
            --text-main: #5D4037;
            --card-bg: #FFFFFF;
            
            /* ä¸»é¡Œè‰² */
            --theme-zhuyin: #FF9EAA; /* ç²‰ç´… */
            --theme-math: #80DEEA;   /* è— */
            --theme-english: #C5E1A5;/* ç¶  */
            
            --clay-shadow: 
                10px 10px 20px rgba(163, 177, 198, 0.3), 
                -10px -10px 20px rgba(255, 255, 255, 0.8);
        }

        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        /* èƒŒæ™¯è£é£¾ (é›²æœµ) */
        .bg-decoration {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, #E0F7FA 0%, #B2EBF2 100%);
        }
        
        .cloud {
            position: absolute;
            background: rgba(255,255,255,0.6);
            border-radius: 50%;
            filter: blur(10px);
            animation: floatCloud 20s infinite linear;
        }

        @keyframes floatCloud {
            from { transform: translateX(100vw); }
            to { transform: translateX(-100vw); }
        }

        /* æ¨™é¡Œå€ */
        .dashboard-header {
            text-align: center;
            padding: 40px 20px 20px;
            position: relative;
            z-index: 10;
        }

        .main-title {
            font-size: 3rem;
            font-weight: 900;
            color: var(--text-main);
            text-shadow: 2px 2px 0px #FFF, 4px 4px 0px rgba(0,0,0,0.1);
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .sub-title {
            font-size: 1.2rem;
            color: #78909C;
            font-weight: bold;
        }

        /* ä¸»é¡Œå¡ç‰‡å®¹å™¨ */
        .theme-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            perspective: 1000px;
        }

        .theme-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            width: 100%;
            max-width: 1200px;
        }

        /* ä¸»é¡Œå¡ç‰‡ */
        .theme-card {
            background: var(--card-bg);
            border-radius: 35px;
            padding: 25px;
            position: relative;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            box-shadow: var(--clay-shadow);
            border: 4px solid transparent;
            overflow: hidden;
            text-decoration: none; /* ç§»é™¤é€£çµåº•ç·š */
            color: inherit; /* ç¹¼æ‰¿æ–‡å­—é¡è‰² */
            display: block; /* è®“ <a> è®Šæˆå€å¡Š */
        }

        .theme-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 
                20px 20px 40px rgba(163, 177, 198, 0.4), 
                -20px -20px 40px rgba(255, 255, 255, 0.8);
            z-index: 5;
        }

        /* é–å®šç‹€æ…‹ */
        .theme-card.locked {
            filter: grayscale(0.8);
            opacity: 0.7;
            cursor: not-allowed;
        }
        .theme-card.locked:hover {
            transform: none;
        }

        /* å¡ç‰‡å…§å®¹ */
        .card-img-wrapper {
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
        }

        .theme-img {
            max-width: 80%;
            max-height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 8px 10px rgba(0,0,0,0.15));
            transition: transform 0.4s;
        }

        .theme-card:hover .theme-img {
            transform: scale(1.15) rotate(5deg);
        }

        .theme-info {
            text-align: center;
        }

        .theme-name {
            font-size: 1.8rem;
            font-weight: 900;
            margin-bottom: 10px;
            color: var(--text-main);
        }

        .theme-desc {
            font-size: 0.95rem;
            color: #90A4AE;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        /* æ¨™ç±¤ */
        .tag-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .tag {
            font-size: 0.8rem;
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: bold;
            color: white;
        }

        /* é€²åº¦æ¢ */
        .progress-wrapper {
            background: #ECEFF1;
            height: 12px;
            border-radius: 6px;
            overflow: hidden;
            margin-top: 15px;
            box-shadow: inset 1px 1px 3px rgba(0,0,0,0.1);
        }

        .progress-fill {
            height: 100%;
            border-radius: 6px;
            width: 0%;
            transition: width 1s ease-out;
        }

        /* ç‹€æ…‹åœ–ç¤º */
        .status-icon {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            color: #CFD8DC;
        }
        
        .theme-card:not(.locked) .status-icon {
            color: #FFD700; /* é‡‘è‰²æ˜Ÿæ˜Ÿ */
        }

        /* é å°¾ */
        .footer-info {
            text-align: center;
            padding: 20px;
            color: #B0BEC5;
            font-size: 0.85rem;
        }

        /* RWD */
        @media (max-width: 768px) {
            .main-title { font-size: 2.2rem; }
            .theme-grid { grid-template-columns: 1fr; max-width: 400px; }
            .theme-card { display: flex; flex-direction: row; align-items: center; padding: 15px; text-align: left; }
            .card-img-wrapper { width: 100px; height: 100px; margin-bottom: 0; margin-right: 15px; }
            .theme-info { text-align: left; flex: 1; }
            .theme-name { font-size: 1.4rem; margin-bottom: 5px; }
            .theme-desc { font-size: 0.85rem; margin-bottom: 10px; display: none; } /* æ‰‹æ©Ÿç‰ˆéš±è—æè¿° */
            .tag-container { justify-content: flex-start; margin-bottom: 5px; }
            .progress-wrapper { margin-top: 5px; }
        }
    </style>
</head>
<body>

    <!-- èƒŒæ™¯å‹•æ…‹ -->
    <div class="bg-decoration">
        <div class="cloud" style="width:150px; height:60px; top:10%; left:-10%; animation-duration:25s;"></div>
        <div class="cloud" style="width:100px; height:40px; top:30%; left:-5%; animation-duration:18s; animation-delay:5s;"></div>
        <div class="cloud" style="width:180px; height:70px; top:60%; left:-15%; animation-duration:30s; animation-delay:2s;"></div>
    </div>

    <!-- æ¨™é¡Œå€ -->
    <div class="dashboard-header">
        <h1 class="main-title"><i class="fa-solid fa-island-tropical me-3 text-primary"></i>å¥‡å¹»å­¸ç¿’å³¶</h1>
        <div class="sub-title">é¸æ“‡ä½ çš„å†’éšªæ—…ç¨‹ï¼Œé–‹å§‹æ¢ç´¢å§ï¼</div>
    </div>

    <!-- ä¸»é¡Œé¸æ“‡å€ -->
    <div class="theme-container">
        <div class="theme-grid" id="theme-list">
            <!-- JS å‹•æ…‹ç”Ÿæˆ -->
        </div>
    </div>

    <div class="footer-info">
        <i class="fa-solid fa-copyright"></i> 2026 å¥‡å¹»å­¸ç¿’å³¶ | å¿«æ¨‚å­¸ç¿’ï¼Œç„¡é™å¯èƒ½
    </div>

<script>
    // ==========================================
    // ğŸŒ ä¸»é¡Œè³‡æ–™è¨­å®š (THEME CONFIG)
    // ==========================================
    
    // 
    const THEMES = [
        {
            id: 'zhuyin',
            title: 'æ³¨éŸ³ç‹åœ‹',
            desc: 'è·Ÿè‘— ã„…ã„†ã„‡ ä¸€èµ·å†’éšªï¼å­¸ç¿’è²æ¯ã€éŸ»æ¯èˆ‡æ‹¼éŸ³çš„é­”æ³•ï¼Œè§£é–ç¥ç¥•åŸå ¡ã€‚',
            img: 'assets/images/ZhuyinCastle.png', 
            link: 'zhuyin.html', // æŒ‡å‘åŸæœ¬çš„æ³¨éŸ³é é¢
            color: '#FF9EAA',
            tags: ['èªæ–‡', '3-6æ­²'],
            isLocked: false,
            storageKey: 'zhuyinV7_progress', // å°æ‡‰åŸæœ¬çš„ localStorage key
            totalLevels: 12
        },
        {
            id: 'math',
            title: 'æ•¸å­—åŸå ¡',
            desc: '123 æ•¸å­—è®Šè®Šè®Šï¼èªè­˜æ•¸å­—ã€åŠ æ¸›æ³•èˆ‡é‚è¼¯å½¢ç‹€ï¼Œè¨“ç·´å°å°æ•¸å­¸å®¶ã€‚',
            img: 'assets/images/NumberCastle.png',
            link: '#',
            color: '#80DEEA',
            tags: ['æ•¸å­¸', '3-6æ­²'],
            isLocked: true, // é–‹ç™¼ä¸­
            storageKey: 'math_progress',
            totalLevels: 20
        },
        {
            id: 'english',
            title: 'è‹±æ–‡æ£®æ—',
            desc: 'ABC å¿«æ¨‚å”±ï¼æ¢ç´¢å­—æ¯æ£®æ—ï¼Œå­¸ç¿’å–®å­—èˆ‡æ—¥å¸¸æœƒè©±ï¼Œèˆ‡å‹•ç‰©æœ‹å‹å€‘å°è©±ã€‚',
            img: 'assets/images/EnglishForest.png',
            link: '#',
            color: '#C5E1A5',
            tags: ['å¤–èª', '3-6æ­²'],
            isLocked: true, // é–‹ç™¼ä¸­
            storageKey: 'english_progress',
            totalLevels: 26
        }
    ];

    // ==========================================
    // ğŸ› ï¸ ç¨‹å¼é‚è¼¯
    // ==========================================

    function initDashboard() {
        const container = document.getElementById('theme-list');
        container.innerHTML = '';

        THEMES.forEach(theme => {
            // è®€å–é€²åº¦
            const saved = JSON.parse(localStorage.getItem(theme.storageKey)) || [];
            const progressPercent = Math.round((saved.length / theme.totalLevels) * 100);
            
            // å»ºç«‹å¡ç‰‡ HTML
            const card = document.createElement('a');
            card.className = `theme-card ${theme.isLocked ? 'locked' : ''}`;
            if (!theme.isLocked) {
                card.href = theme.link;
            } else {
                card.onclick = (e) => {
                    e.preventDefault();
                    alert(`ğŸš§ ${theme.title} ç›®å‰æ­£åœ¨å»ºè¨­ä¸­ï¼Œæ•¬è«‹æœŸå¾…ï¼`);
                };
            }

            // æ¨™ç±¤ HTML
            const tagsHtml = theme.tags.map(tag => 
                `<span class="tag" style="background:${theme.color}">${tag}</span>`
            ).join('');

            // é€²åº¦æ¢é¡è‰²
            const progressColor = theme.color;

            card.innerHTML = `
                <div class="status-icon">
                    ${theme.isLocked ? '<i class="fa-solid fa-lock"></i>' : '<i class="fa-solid fa-play-circle"></i>'}
                </div>
                <div class="card-img-wrapper">
                    <img src="${theme.img}" class="theme-img" alt="${theme.title}">
                </div>
                <div class="theme-info">
                    <div class="tag-container">
                        ${tagsHtml}
                        ${theme.isLocked ? '<span class="tag bg-secondary">Coming Soon</span>' : ''}
                    </div>
                    <div class="theme-name">${theme.title}</div>
                    <div class="theme-desc">${theme.desc}</div>
                    
                    ${!theme.isLocked ? `
                        <div class="d-flex justify-content-between small text-muted mt-2">
                            <span>æ¢ç´¢é€²åº¦</span>
                            <span>${progressPercent}%</span>
                        </div>
                        <div class="progress-wrapper">
                            <div class="progress-fill" style="width: ${progressPercent}%; background: ${progressColor};"></div>
                        </div>
                    ` : ''}
                </div>
            `;

            container.appendChild(card);
        });
    }

    // å•Ÿå‹•
    document.addEventListener('DOMContentLoaded', initDashboard);

</script>
</body>
</html>